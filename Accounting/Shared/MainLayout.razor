@using Microsoft.Extensions.Localization;
@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@inject IJSRuntime JsRuntime
@inject IStringLocalizer<Resource> LRes

<PageTitle>@LRes["Accounting"]</PageTitle>
<div class="page position-relative">
    <div class="toast-container mx-auto position-absolute top-0 end-0 start-0 mt-4" style="z-index: 999999999999"></div>
    <AuthorizeView>
        <div class="sidebar">
            <NavMenu />
        </div>
    </AuthorizeView>

    <main>
        <div class="top-row px-4 auth">
            <AuthorizeView>
                <button title="Navigation menu" class="navbar-toggler me-auto" id="btn-nav-toggler" aria-expanded="true" @onclick="async () => await ToggleSideBar()">
                    <i class="fa-regular fa-xmark"></i>
                </button>
            </AuthorizeView>
            <CultureSelector/>
            <LoginDisplay />
            <a class="nav-link text-black ms-0" href="/system-info"><i class="fa-regular fa-circle-info"></i> @LRes["About"]</a>
        </div>

        <article class="content px-4">
            @Body
        </article>
    </main>
</div>

@code{

    async Task ToggleSideBar()
    {
        await HelperFunctions.ToggleSideBar(JsRuntime);
    }
}